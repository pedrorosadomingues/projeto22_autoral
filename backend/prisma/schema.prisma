generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Classtime {
  id      Int       @id
  hour    DateTime  @db.Date
  dayweek String    @db.VarChar(255)
  Student Student[]
}

model FinishedUnit {
  id        Int     @id
  unitId    Int
  studentId Int
  Student   Student @relation(fields: [studentId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  Unit      Unit    @relation(fields: [unitId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model Nivel {
  id        Int       @id
  name      String    @db.VarChar(255)
  createdAt DateTime? @db.Date
  updatedAt DateTime? @db.Date
  Student   Student[]
  Unit      Unit[]
}

model Observation {
  id          Int     @id
  description String  @db.VarChar(255)
  studentId   Int
  Student     Student @relation(fields: [studentId], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model Student {
  id           Int            @id
  name         String         @db.VarChar(255)
  age          Int
  cpf          String         @db.VarChar(255)
  observation  String?        @db.VarChar(255)
  nivelId      Int
  classTimeId  Int
  createdAt    DateTime?      @db.Date
  updatedAt    DateTime?      @db.Date
  Classtime    Classtime      @relation(fields: [classTimeId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  Nivel        Nivel          @relation(fields: [nivelId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  FinishedUnit FinishedUnit[]
  Observation  Observation[]
  Unit         Unit[]
}

model Unit {
  id           Int            @id
  name         String         @db.VarChar(255)
  nivelId      Int
  studentId    Int
  Nivel        Nivel          @relation(fields: [nivelId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  Student      Student        @relation(fields: [studentId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  FinishedUnit FinishedUnit[]
}

model User {
  id        Int       @id
  name      String    @db.VarChar(255)
  email     String    @db.VarChar(255)
  password  String    @db.VarChar(255)
  createdAt DateTime? @db.Date
  updatedAt DateTime? @db.Date
}
